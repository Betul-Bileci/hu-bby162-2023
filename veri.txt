from google.colab import drive
drive.mount('/content/drive')


dosya_adi = "/content/drive/MyDrive/veri.txt"



# Katalog uygulamasının ana menüsünü gösteren fonksiyon
def ana_menu():
    print("KATALOG UYGULAMASI")
    print("1. Eserleri Listele")
    print("2. Eser Ekle")
    print("3. Eser Sil")
    print("4. Eser Güncelle")
    print("5. Katalogu Temizle")
    print("6. Eser Ara")
    print("0. Çıkış")

# Eserleri listelemek için kullanılan fonksiyon
def eserleri_listele():
    try:
        with open(dosya_adi, "r") as dosya:
            eserler = dosya.readlines()
            if eserler:
                print("Katalogdaki Eserler:")
                for eser in eserler:
                    print(eser.strip())  # Satır sonu karakterlerini kaldırarak ekrana yazdır
            else:
                print("Katalog boş.")
    except FileNotFoundError:
        print("Katalog dosyası bulunamadı.")

# Yeni bir eser eklemek için kullanılan fonksiyon
def eser_ekle():
    eser_adi = input("Eser Adı: ")
    yazar_adi = input("Yazar Adı: ")
    basim_yili = input("Basım Yılı: ")

    with open(dosya_adi, "a") as dosya:
        dosya.write(f"{eser_adi}, {yazar_adi}, {basim_yili}\n")
    print("Eser kataloga eklendi.")

# Bir eseri silmek için kullanılan fonksiyon
def eser_sil():
    eser_adi = input("Silinecek Eser Adı: ")

    try:
        with open(dosya_adi, "r") as dosya:
            eserler = dosya.readlines()
        with open(dosya_adi, "w") as dosya:
            for eser in eserler:
                if eser.split(",")[0].strip() != eser_adi:
                    dosya.write(eser)
        print("Eser katalogdan silindi.")
    except FileNotFoundError:
        print("Katalog dosyası bulunamadı.")

# Bir eseri güncellemek için kullanılan fonksiyon
def eser_guncelle():
    eser_adi = input("Güncellenecek Eser Adı: ")
    yeni_eser_adi = input("Yeni Eser Adı (Boş bırakmak için ENTER): ")
    yeni_yazar_adi = input("Yeni Yazar Adı (Boş bırakmak için ENTER): ")
    yeni_basim_yili = input("Yeni Basım Yılı (Boş bırakmak için ENTER): ")

    try:
        with open(dosya_adi, "r") as dosya:
            eserler = dosya.readlines()
        with open(dosya_adi, "w") as dosya:
            for eser in eserler:
                if eser.split(",")[0].strip() == eser_adi:
                    if yeni_eser_adi:
                        eser = eser.replace(eser_adi, yeni_eser_adi)
                    if yeni_yazar_adi:
                        eser = eser.replace(eser.split(",")[1].strip(), yeni_yazar_adi)
                    if yeni_basim_yili:
                        eser = eser.replace(eser.split(",")[2].strip(), yeni_basim_yili)
                dosya.write(eser)
        print("Eser güncellendi.")
    except FileNotFoundError:
        print("Katalog dosyası bulunamadı.")

# Katalogu temizlemek için kullanılan fonksiyon
def katalog_temizle():
    try:
        with open(dosya_adi, "w") as dosya:
            dosya.write("")
        print("Katalog temizlendi.")
    except FileNotFoundError:
        print("Katalog dosyası bulunamadı.")

# Bir eseri aramak için kullanılan fonksiyon
def eser_ara():
    anahtar_kelime = input("Aranacak Anahtar Kelime: ")

    try:
        with open(dosya_adi, "r") as dosya:
            eserler = dosya.readlines()
            bulunan_eserler = []
            for eser in eserler:
                if anahtar_kelime.lower() in eser.lower():
                    bulunan_eserler.append(eser.strip())
            if bulunan_eserler:
                print("Arama Sonuçları:")
                for eser in bulunan_eserler:
                    print(eser)
            else:
                print("Aranan eser bulunamadı.")
    except FileNotFoundError:
        print("Katalog dosyası bulunamadı.")

# Ana döngü
while True:
    ana_menu()
    secim = input("Seçiminizi yapın (0-6): ")

    if secim == "1":
        eserleri_listele()
    elif secim == "2":
        eser_ekle()
    elif secim == "3":
        eser_sil()
    elif secim == "4":
        eser_guncelle()
    elif secim == "5":
        katalog_temizle()
    elif secim == "6":
        eser_ara()
    elif secim == "0":
        print("Katalog uygulaması sonlandırılıyor.")
        break
    else:
        print("Geçersiz seçim. Tekrar deneyin.")